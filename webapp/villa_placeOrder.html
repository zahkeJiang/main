<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
	<title>小别墅</title>
	<link href="css/base.css" rel="stylesheet" type="text/css"/>
	<link href="css/villa_placeOrder.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="./css/calendar.css">

   
</head>

<body>
<!-- 选择别墅与报名人数 -->
<div class="villa-choose villaBox">
    <div class="villa-information">
        <div class="villa-title">人数</div>
        <div class="villa-choose-content">
            <input type="number" name="报名人数" placeholder="请输入参加的人数">
            <p>温馨提示：说明多少人可以选几栋别墅</p>
        </div>
    </div>
    <div class="villa-information container">
        <div class="villa-pic"></div>
        <div class="villa-content">
            <p>xxxx别墅</p>
            <label for="a"><p class="villaText">别墅信息别墅信息别墅信息别墅信息别墅信息别墅信息别墅信息别墅信息别墅信息别墅信</p></label>
        </div>
        <input name="villa-radio" type="radio" id="a" value="别墅一"/>
        <div class="villa-choose"></div>
    </div>
    <div class="villa-information container">
        <div class="villa-pic"></div>
        <div class="villa-content">
            <p>xxxx别墅</p>
            <label for="b"><p class="villaText">别墅信息别墅信息别墅信息别墅信息别墅信息别墅信息别墅信息别墅信息别墅信息别墅信</p></label>
        </div>
        <input name="villa-radio" id="b" type="radio" value="别墅一" /> 
        <div class="villa-choose"></div>
    </div>
    <div class="villa-information container">
        <div class="villa-pic"></div>
        <div class="villa-content">
            <p>xxxx别墅</p>
            <label for="c"><p class="villaText">别墅信息别墅信息别墅信息别墅信息别墅信息别墅信息别墅信息别墅信息别墅信息别墅信</p></label>
        </div>
        <input name="villa-radio" id="c" type="radio" value="别墅一" />
        <div class="villa-choose"></div>
    </div>
</div>
<!-- 日期 -->
<div class="date villaBox">
    <div id="demo" class="sit-two-capacity-day">
        <div class="sit-calendar">
            <div class="sit-calendar-title">
                <div class="sit-pre-month">&lt;</div>
                <div class="sit-date"></div>
                <div class="sit-next-month">&gt;</div>
            </div>
            <div class="sit-calendar-cxt">
                <table class="calendar-table">
                    <thead>
                        <tr><th>周日</th><th>周一</th><th>周二</th><th>周三</th><th>周四</th><th>周五</th><th>周六</th></tr>
                    </thead>
                </table>
                <div class='calendar'></div>
            </div>
        </div>
    </div>
</div>
<!-- 用户信息填写 -->
<div class="villa-user villaBox">
    <div class="villa-user-row">
        <p class="tel">联系方式</p>
        <p>13161111366</p>
        <p></p>
    </div>
    <div class="villa-user-row">
        <p>真实姓名</p>
        <input type="text" name="姓名" placeholder="请输入您的真实姓名">
        <p>必填</p>
    </div>
    <div class="villa-user-row">
        <p>添加备注</p>
        <input type="text" name="备注" placeholder="请输入备注信息">
        <p>必填</p>
    </div>
    <div class="villa-user-coupon">
        <p>优惠券</p>
        <div class="villa-user-couponNumber">
            <span>您有1张优惠券可使用</span>
            <img src="./images/right.png" height="14px" width="14px">
        </div>
    </div>
</div>
<!-- 底部footer -->
    <div class="footer">
        <p>¥1234</p>
        <p>去支付</p>
    </div>
</body>
<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
<script src="js/jquery.cookie.js" type="text/javascript"></script>
<!--<script type="text/javascript" src="js/isWeiXin.js"></script>-->
<script src="./js/calendar.js"></script>
 
  <script>

     //日历渲染--------------------------------------------------------
    renderHtml(0);
    // 表格中显示日期
    showCalendarData(0,0);
    //展示价格
    setPrice(0);

//    日历结束
//    点击上一月
    var monthNum = 0;
    $('.sit-pre-month').on('click',function(e){
        e.preventDefault();
        // 第二个参数 0为本月 上一个月1，下一个月-1
        ++monthNum;
        showCalendarData(0,monthNum);
        setPrice(getYandM(monthNum).dataPara);
    });
//    点击下一月
    $('.sit-next-month').on('click',function(e){
        e.preventDefault();
        --monthNum;
        showCalendarData(0,monthNum);
        setPrice(getYandM(monthNum).dataPara);
    });
     //点击每天的操作，要是有其他操作可在此处写事件，只有展示功能的日历 ，注释此段代码 点击不需要事件
    $('.currentMonth0').on('click',function(e){
        console.log($(this));
        //选择完日期后 点击按钮去支付 ，可以将需要的参数传进去
        //如果有限制条件 直接return 不添加标签并且支付也不不能点击传参
        if($(this).hasClass('no-ticket')){ //余票不能点击 具体需求具体实现
            return;
        }
        if ($(this).children(".selectedDay").length > 0 ) {
                $(this).children(".selectedDay").remove();
            }else{
                $(this).append("<i class='selectedDay'></i>");
        }
    });

/*
    //点击每天的操作，要是有其他操作可在此处写事件，只有展示功能的日历 ，注释此段代码 点击不需要事件
    // 获取当前时间
    var myDate = new Date(); 
    var todyNumber = myDate.getDate();

    var num = ".currentMonth"+monthNum;
    $(num).on('click',function(e){
        console.log($(this));
        //获取当前点击对应的日期
        var thisDayNumber = $(this).children(".borderr").attr("thisDayNumber");
        // 如果今天日期小于选择日期，进行操作,0代表是本月，小于0代表之后的月份，大于0代表之前的月份
        if (monthNum==0) {
            if (todyNumber<thisDayNumber) {
                //选择完日期后 点击按钮去支付 ，可以将需要的参数传进去
                //如果有限制条件 直接return 不添加标签并且支付也不不能点击传参
                if($(this).hasClass('no-ticket')){ //没票时不能点击 具体需求具体实现
                    return;
                }
                //如果selectedDay存在，代表当前被选中了。否则追加新元素
                if ($(this).children(".selectedDay").length > 0 ) {
                    $(this).children(".selectedDay").remove();
                }else{
                    $(this).append("<i class='selectedDay'></i>");
                }
            } 
        }
        // if (monthNum==-1) {
        //     //选择完日期后 点击按钮去支付 ，可以将需要的参数传进去
        //     //如果有限制条件 直接return 不添加标签并且支付也不不能点击传参
        //     if($(this).hasClass('no-ticket')){ //没票时不能点击 具体需求具体实现
        //             return;
        //     }

        //     if ($(this).children(".selectedDay").length > 0 ) {
        //         $(this).children(".selectedDay").remove();
        //     }else{
        //         $(this).append("<i class='selectedDay'></i>");
        //     }
            
        // }
        
    });
*/
        //为radio法培方式设置点击样式
    $("input[type='radio']").click(function() {
        $(this).siblings(".villa-choose").css({"background":"url(./images/circle_choose.png)","background-size":"20px"});
        $(this).parents("div").siblings("div").find(".villa-choose").css({"background":"url(./images/circle.png)","background-size":"20px"});
    });

</script>
</html>